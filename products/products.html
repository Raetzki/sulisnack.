<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SuliSnack</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./products.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-light border-bottom px-3">
      <a class="navbar-brand" href="../main/main.html">SuliSnack</a>

      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#mainNav"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse mx-auto" id="mainNav">
        <ul class="navbar-nav mx-auto gap-3">
          <li class="nav-item">
            <a class="nav-link active" href="#">Termékek</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Menük</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Rendeléseim</a>
          </li>
        </ul>
      </div>

      <div class="d-none d-lg-flex gap-3 align-items-center">
        <div class="text-end small">
          <div>Nyitvatartás:</div>
          <div>H–P: 6:55 – 13:35</div>
        </div>

        <button
          class="btn btn-outline-dark rounded-circle"
          style="width: 45px; height: 45px"
        >
          TB
        </button>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-12 d-lg-none mt-3">
          <button
            class="btn btn-outline-secondary w-100"
            data-bs-toggle="collapse"
            data-bs-target="#leftSidebar"
          >
            Szűrők megjelenítése
          </button>
        </div>

        <div class="col-lg-2 collapse d-lg-block sidebar" id="leftSidebar">
          <h5 class="mb-3">Kategóriák</h5>

          <button
            class="btn btn-outline-primary category-btn w-100 mb-2"
            data-cat="edesseg"
          >
            Édesség
          </button>
          <button
            class="btn btn-outline-primary category-btn w-100 mb-2"
            data-cat="szendvics"
          >
            Szendvics
          </button>
          <button
            class="btn btn-outline-primary category-btn w-100 mb-2"
            data-cat="udito"
          >
            Üdítők
          </button>
          <button
            class="btn btn-outline-primary category-btn w-100 mb-2"
            data-cat="kave"
          >
            Kávék
          </button>
          <button
            class="btn btn-outline-primary category-btn w-100 mb-2"
            data-cat="friss"
          >
            Friss
          </button>

          <hr />

          <h6>Ár</h6>
          <input
            type="number"
            class="form-control mb-2"
            id="min-price"
            placeholder="Minimum"
          />
          <input
            type="number"
            class="form-control mb-3"
            id="max-price"
            placeholder="Maximum"
          />

          <button class="btn btn-dark w-100" id="search-btn">Keresés</button>
        </div>

        <div class="col-lg-7 p-4" id="product-container">
          <div style="width: 100px; height: 100px; border: black 5px solid">
            <p>Szia helo</p>
          </div>
        </div>

        <div class="col-12 d-lg-none mt-3">
          <button
            class="btn btn-outline-secondary w-100"
            data-bs-toggle="collapse"
            data-bs-target="#rightSidebar"
          >
            Kosár megjelenítése
          </button>
        </div>

        <div
          class="col-lg-3 collapse d-lg-block cart-sidebar"
          id="rightSidebar"
        >
          <h5>Kosár</h5>

          <div id="cart-content" class="mt-3">A kosár jelenleg üres.</div>

          <button class="btn btn-success w-100 mt-4" id="submit-order">
            Rendelés leadása
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const selectedCategories = new Set();

      document.querySelectorAll(".category-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const cat = btn.dataset.cat;

          if (selectedCategories.has(cat)) {
            selectedCategories.delete(cat);
            btn.classList.remove("active");
          } else {
            selectedCategories.add(cat);
            btn.classList.add("active");
          }

          console.log("Aktív kategóriák:", [...selectedCategories]);
        });
      });

      document.getElementById("search-btn").addEventListener("click", () => {
        const min = document.getElementById("min-price").value;
        const max = document.getElementById("max-price").value;

        console.log("Keresés indul...");
        console.log("Kategóriák:", [...selectedCategories]);
        console.log("Ár:", min, max);
      });
    </script>
  </body>
</html>
